{% block content %}
{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description"
        content="Responsive sidebar template with sliding effect and dropdown menu based on bootstrap 3">
    <title>Calculare</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- Parallax -->
    <script src="https://cdn.jsdelivr.net/parallax.js/1.4.2/parallax.min.js"></script>
    <!-- semantic UI -->
    <link rel="stylesheet" type='text/css'
        href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.14/semantic.min.css">
    <!--Chart js-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"
        integrity="sha256-Uv9BNBucvCPipKQ2NS9wYpJmi8DTOEfTA/nH2aoJALw=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.css"
        integrity="sha256-aa0xaJgmK/X74WM224KMQeNQC2xYKwlAt08oZqjeF0E=" crossorigin="anonymous" />
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>




    <!-- using online links -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
        integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
        integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <link rel="stylesheet" href="//malihu.github.io/custom-scrollbar/jquery.mCustomScrollbar.min.css">

    <!-- using local links -->
    <!-- <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="../node_modules/@fortawesome/fontawesome-free/css/all.min.css">
<link rel="stylesheet" href="../node_modules/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.css"> -->

    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link rel="stylesheet" href="{% static 'css/sidebar-theme.css' %}">
    <link rel="shortcut icon" type="image/png" href="img/favicon.png" />

    {% load pwa %}

    {% progressive_web_app_meta %}

</head>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap');

    *,
    a {
        font-family: 'Poppins', sans-serif;
        font-weight: 600;
        font-size: 16px;
    }

    #receita {
        background-color: #303F9F;
        color: white;
    }

    #receita:hover {
        background-color: grey;
    }

    .acoes {
        margin-top: 5%;
        padding: 3%;
        padding-left: 5%;
        color: #494949;
        font-family: 'Poppins', sans-serif;
        font-weight: 600;
        font-size: 18px;
    }

    .acoes:hover {
        background-color: #303F9F;
    }

    #avatar {
        position: absolute;
        left: 5%;
        top: 10%;
    }

    h6 {
        position: absolute;
        left: 20%;
        top: 10.5%;
        color: white;
        font-family: 'Poppins', sans-serif;
        font-weight: 400;
    }

    h4 {
        position: absolute;
        left: 19.5%;
        top: 13%;
        color: white;
        font-family: 'Poppins', sans-serif;
    }

    #calculare {
        position: absolute;
        left: 6%;
        top: 4%;
    }

    .far.fa-bell {
        position: absolute;
        left: 80%;
        top: 4%;
        font-size: 20px;
        color:
            white;
    }

    .fa.fa-cog {
        position: absolute;
        left: 87%;
        top: 4%;
        font-size: 20px;
        color:
            white;
    }
</style>

<body>
    <img src="{% static 'img/calculare.png' %}" style="width: 20%;" id="calculare" alt="My image">
    <a href="/dadospessoais/{{request.user.id}}" id="avatar"><img src="{{ avatar.avatar }}" alt="" width="45px" height="45px" class="rounded-circle"></a>
    <h6>Bem vindo</h6>
    <h4>{{ request.user.username|title }}</h4>
    <a href="/home"><i class="far fa-bell"></i></a>
    <a href="{% url 'configuracoes' %}"><i class="fa fa-cog"></i></a>
    <div class="parent">
        <img src="{% static 'img/Cabecalho.png' %}" style="width: 100%;" alt="My image">
    </div>
    <div class="row" style="margin-top: -80px;">
        <div class="col-4" style="padding: 2%;">
            <canvas id="myChart1" width="100%" height="80%"></canvas>
            <h5 style="position: absolute; top: 39%; left: 35%; font-size: 14px;">Lucro</h5>
            <center>
                <h5 style="margin-top: 5%; color: #0097A7;">R${{Total_Lucro}}</h5>
            </center>
        </div>
        <div class="col-4" style="padding: 2%;">
            <canvas id="myChart2" width="100%" height="80%"></canvas>
            <h5 style="position: absolute; top: 39%; left: 30%; font-size: 13px;">Vendas</h5>
            <center>
                <h5 style="margin-top: 5%; color: #303F9F;">R${{Total_Vendas}}</h5>
            </center>
        </div>
        <div class="col-4" style="padding: 2%;">
            <canvas id="myChart3" width="100%" height="80%"></canvas>
            <h5 style="position: absolute; top: 39%; left: 27%; font-size: 12px;">Despesas</h5>
            <center>
                <h5 style="margin-top: 5%; color: #FF9330;">R${{Total_Despesas}}</h5>
            </center>
        </div>
    </div>
    <div class="row" style="padding-left: 10%; padding-right: 10%; padding-top: 0; padding-bottom: 0;">

        <a href="{% url 'add_receita' %}" class="btn btn-outline-secondary btn-lg btn-block acoes" style="margin-top: 10px;">
            <span class=" float-left">Minhas Receitas</span>
            <i class="fa fa-chevron-right float-right" style="margin-top: 1%;"></i>
        </a>

        <a href="{% url 'meus-ingredientes' %}" class="btn btn-outline-secondary btn-lg btn-block acoes"
            style="margin-top: 5%;">
            <span class="float-left">Meus Ingredientes</span>
            <i class="fa fa-chevron-right float-right" style="margin-top: 1%;"></i>
        </a>


        <a href="{% url 'minha-lista-de-compras' %}" class="btn btn-outline-secondary btn-lg btn-block acoes"
            style="margin-top: 5%;">
            <span class="float-left">Minha Lista de Compras</span>
            <i class="fa fa-chevron-right float-right" style="margin-top: 1%;"></i>
        </a>

        <a href="{% url 'meus-negocios' %}" class="btn btn-outline-secondary btn-lg btn-block acoes"
            style="margin-top: 5%;">
            <span class="float-left">Meu Neg√≥cio</span>
            <i class="fa fa-chevron-right float-right" style="margin-top: 1%;"></i>
        </a>

        <a href="{% url 'resultados' %}" class="btn btn-outline-secondary btn-lg btn-block acoes" style="margin-top: 5%;">
            <span class="float-left">Resultados</span>
            <i class="fa fa-chevron-right float-right" style="margin-top: 1%;"></i>
        </a>

        <a href="{% url 'add_receita_dps' %}" id="receita" class="btn btn-primary btn-lg btn-block  acoes"
            style="border: none; font-family: 'Poppins', sans-serif; font-weight: 600; border-radius: 10px; margin-top: 5%; padding: 4% 0 4% 0;">
            Adicionar Receita
        </a>
    </div>
</body>

<script>
    const CHART1 = document.getElementById("myChart1");
    const CHART2 = document.getElementById("myChart2");
    const CHART3 = document.getElementById("myChart3");
    Chart.defaults.scale.ticks.beginAtZero = true;

    let douChart1 = new Chart(CHART1, {
        type: 'doughnut',
        data: {
            labels: false,
            datasets: [
                {
                    label: 'Points',
                    backgroundColor: ['#0097A7', 'lightgrey'],
                    data: ['{{Total_Lucro}}', '{{Total_Vendas}}']
                }
            ]
        },
        options: {
            cutoutPercentage: 80,
            animation: {
                animationScale: true
            }
        }
    });

    let douChart2 = new Chart(CHART2, {
        type: 'doughnut',
        data: {
            labels: false,
            datasets: [
                {
                    label: 'Points',
                    backgroundColor: ['#303F9F', 'lightgrey'],
                    data: ['{{Total_Vendas}}']
                }
            ]
        },
        options: {
            cutoutPercentage: 80,
            animation: {
                animationScale: true
            }
        }
    });

    let douChart3 = new Chart(CHART3, {
        type: 'doughnut',
        data: {
            labels: false,
            datasets: [
                {
                    label: 'Points',
                    backgroundColor: ['#FF9330', 'lightgrey'],
                    data: ['{{Total_Despesas}}']
                }
            ]
        },
        options: {
            cutoutPercentage: 80,
            animation: {
                animationScale: true
            }
        }
    });
</script>
{% endblock %}